!function(t){t.address=function(){var e,r,n=function(e){var r=t.extend(t.Event(e),function(){for(var e={},r=t.address.parameterNames(),n=0,a=r.length;n<a;n++)e[r[n]]=t.address.parameter(r[n]);return{value:t.address.value(),path:t.address.path(),pathNames:t.address.pathNames(),parameterNames:r,parameters:e,queryString:t.address.queryString()}}.call(t.address));return t(t.address).trigger(r),r},a=function(t){return Array.prototype.slice.call(t)},i=function(e,r,n){return t().bind.apply(t(t.address),Array.prototype.slice.call(arguments)),t.address},s=function(e,r){return t().unbind.apply(t(t.address),Array.prototype.slice.call(arguments)),t.address},o=function(){return B.pushState&&F.state!==e},c=function(){return("/"+P.pathname.replace(new RegExp(F.state),"")+P.search+(u()?"#"+u():"")).replace(K,"/")},u=function(){var t=P.href.indexOf("#");return t!=-1?P.href.substr(t+1):""},d=function(){return o()?c():u()},l=function(){try{return top.document!==e&&top.document.title!==e&&top.jQuery!==e&&top.jQuery.address!==e&&top.jQuery.address.frames()!==!1?top:window}catch(t){return window}},p=function(){return"javascript"},h=function(t){return t=t.toString(),(F.strict&&"/"!=t.substr(0,1)?"/":"")+t},f=function(t,e){return parseInt(t.css(e),10)},v=function(){if(!Y){var t=d(),e=decodeURI(rt)!=decodeURI(t);e&&(W&&C<7?P.reload():(W&&!H&&F.history&&D(y,50),rt=t,g(O)))}},g=function(t){return D(m,10),n(A).isDefaultPrevented()||n(t?q:N).isDefaultPrevented()},m=function(){if("null"!==F.tracker&&F.tracker!==I){var r=t.isFunction(F.tracker)?F.tracker:_[F.tracker],n=(P.pathname+P.search+(t.address&&!o()?t.address.value():"")).replace(/\/\//,"/").replace(/^\/$/,"");t.isFunction(r)?r(n):(t.isFunction(_.urchinTracker)&&_.urchinTracker(n),_.pageTracker!==e&&t.isFunction(_.pageTracker._trackPageview)&&_.pageTracker._trackPageview(n),_._gaq!==e&&t.isFunction(_._gaq.push)&&_._gaq.push(["_trackPageview",decodeURI(n)]),t.isFunction(_.ga)&&_.ga("send","pageview",n))}},y=function(){var t=p()+":"+O+";document.open();document.writeln('<html><head><title>"+z.title.replace(/\'/g,"\\'")+"</title><script>var "+U+' = "'+encodeURIComponent(d()).replace(/\'/g,"\\'")+(z.domain!=P.hostname?'";document.domain="'+z.domain:"")+"\";</script></head></html>');document.close();";C<7?r.src=t:r.contentWindow.location.replace(t)},w=function(){if(J&&V!=-1){var t,e,r=J.substr(V+1).split("&");for(t=0;t<r.length;t++)e=r[t].split("="),/^(autoUpdate|history|strict|wrap)$/.test(e[0])&&(F[e[0]]=isNaN(e[1])?/^(true|yes)$/i.test(e[1]):0!==parseInt(e[1],10)),/^(state|tracker)$/.test(e[0])&&(F[e[0]]=e[1]);J=I}rt=d()},b=function(){if(!Z){if(Z=$,w(),t('a[rel*="address:"]').address(),F.wrap){var a=t("body");t("body > *").wrapAll('<div style="padding:'+(f(a,"marginTop")+f(a,"paddingTop"))+"px "+(f(a,"marginRight")+f(a,"paddingRight"))+"px "+(f(a,"marginBottom")+f(a,"paddingBottom"))+"px "+(f(a,"marginLeft")+f(a,"paddingLeft"))+'px;" />').parent().wrap('<div id="'+U+'" style="height:100%;overflow:auto;position:relative;'+(M&&!window.statusbar.visible?"resize:both;":"")+'" />');t("html, body").css({height:"100%",margin:0,padding:0,overflow:"hidden"}),M&&t('<style type="text/css" />').appendTo("head").text("#"+U+"::-webkit-resizer { background-color: #fff; }")}if(W&&!H){var i=z.getElementsByTagName("frameset")[0];r=z.createElement((i?"":"i")+"frame"),r.src=p()+":"+O,i?(i.insertAdjacentElement("beforeEnd",r),i[i.cols?"cols":"rows"]+=",0",r.noResize=$,r.frameBorder=r.frameSpacing=0):(r.style.display="none",r.style.width=r.style.height=0,r.tabIndex=-1,z.body.insertAdjacentElement("afterBegin",r)),D(function(){t(r).bind("load",function(){var t=r.contentWindow;rt=t[U]!==e?t[U]:"",rt!=d()&&(g(O),P.hash=rt)}),r.contentWindow[U]===e&&y()},50)}D(function(){n("init"),g(O)},1),o()||(W&&C>7||!W&&H?_.addEventListener?_.addEventListener(R,v,O):_.attachEvent&&_.attachEvent("on"+R,v):Q(v,50)),"state"in window.history&&t(window).trigger("popstate")}},x=function(){decodeURI(rt)!=decodeURI(d())&&(rt=d(),g(O))},k=function(){_.removeEventListener?_.removeEventListener(R,v,O):_.detachEvent&&_.detachEvent("on"+R,v)},E=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},S=function(){var t={},e=E(navigator.userAgent);return e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),t},I=null,U="jQueryAddress",j="string",R="hashchange",T="init",A="change",q="internalChange",N="externalChange",$=!0,O=!1,F={autoUpdate:$,history:$,strict:$,frames:$,wrap:O},L=S(),C=parseFloat(L.version),M=L.webkit||L.safari,W=L.msie,_=l(),z=_.document,B=_.history,P=_.location,Q=setInterval,D=setTimeout,K=/\/{2,9}/g,G=navigator.userAgent,H="on"+R in _,J=t("script:last").attr("src"),V=J?J.indexOf("?"):-1,X=z.title,Y=O,Z=O,tt=$,et=O,rt=d();if(W){C=parseFloat(G.substr(G.indexOf("MSIE")+4)),z.documentMode&&z.documentMode!=C&&(C=8!=z.documentMode?7:8);var nt=z.onpropertychange;z.onpropertychange=function(){nt&&nt.call(z),z.title!=X&&z.title.indexOf("#"+d())!=-1&&(z.title=X)}}if(B.navigationMode&&(B.navigationMode="compatible"),"complete"==document.readyState)var at=setInterval(function(){t.address&&(b(),clearInterval(at))},50);else w(),t(b);return t(window).bind("popstate",x).bind("unload",k),{bind:function(t,e,r){return i.apply(this,a(arguments))},unbind:function(t,e){return s.apply(this,a(arguments))},init:function(t,e){return i.apply(this,[T].concat(a(arguments)))},change:function(t,e){return i.apply(this,[A].concat(a(arguments)))},internalChange:function(t,e){return i.apply(this,[q].concat(a(arguments)))},externalChange:function(t,e){return i.apply(this,[N].concat(a(arguments)))},baseURL:function(){var t=P.href;return t.indexOf("#")!=-1&&(t=t.substr(0,t.indexOf("#"))),/\/$/.test(t)&&(t=t.substr(0,t.length-1)),t},autoUpdate:function(t){return t!==e?(F.autoUpdate=t,this):F.autoUpdate},history:function(t){return t!==e?(F.history=t,this):F.history},state:function(t){if(t!==e){F.state=t;var r=c();return F.state!==e&&(B.pushState?"/#/"==r.substr(0,3)&&P.replace(F.state.replace(/^\/$/,"")+r.substr(2)):"/"!=r&&r.replace(/^\/#/,"")!=u()&&D(function(){P.replace(F.state.replace(/^\/$/,"")+"/#"+r)},1)),this}return F.state},frames:function(t){return t!==e?(F.frames=t,_=l(),this):F.frames},strict:function(t){return t!==e?(F.strict=t,this):F.strict},tracker:function(t){return t!==e?(F.tracker=t,this):F.tracker},wrap:function(t){return t!==e?(F.wrap=t,this):F.wrap},update:function(){return et=$,this.value(rt),et=O,this},title:function(t){return t!==e?(D(function(){X=z.title=t,tt&&r&&r.contentWindow&&r.contentWindow.document&&(r.contentWindow.document.title=t,tt=O)},50),this):z.title},value:function(t){if(t!==e){if(t=h(t),"/"==t&&(t=""),rt==t&&!et)return;if(rt=t,F.autoUpdate||et){if(g($))return this;o()?B[F.history?"pushState":"replaceState"]({},"",F.state.replace(/\/$/,"")+(""===rt?"/":rt)):(Y=$,M?F.history?P.hash="#"+rt:P.replace("#"+rt):rt!=d()&&(F.history?P.hash="#"+rt:P.replace("#"+rt)),W&&!H&&F.history&&D(y,50),M?D(function(){Y=O},1):Y=O)}return this}return h(rt)},path:function(t){if(t!==e){var r=this.queryString(),n=this.hash();return this.value(t+(r?"?"+r:"")+(n?"#"+n:"")),this}return h(rt).split("#")[0].split("?")[0]},pathNames:function(){var t=this.path(),e=t.replace(K,"/").split("/");return"/"!=t.substr(0,1)&&0!==t.length||e.splice(0,1),"/"==t.substr(t.length-1,1)&&e.splice(e.length-1,1),e},queryString:function(t){if(t!==e){var r=this.hash();return this.value(this.path()+(t?"?"+t:"")+(r?"#"+r:"")),this}var n=rt.split("?");return n.slice(1,n.length).join("?").split("#")[0]},parameter:function(r,n,a){var i,s;if(n!==e){var o=this.parameterNames();for(s=[],n=n===e||n===I?"":n.toString(),i=0;i<o.length;i++){var c=o[i],u=this.parameter(c);typeof u==j&&(u=[u]),c==r&&(u=n===I||""===n?[]:a?u.concat([n]):[n]);for(var d=0;d<u.length;d++)s.push(c+"="+u[d])}return t.inArray(r,o)==-1&&n!==I&&""!==n&&s.push(r+"="+n),this.queryString(s.join("&")),this}if(n=this.queryString()){var l=[];for(s=n.split("&"),i=0;i<s.length;i++){var p=s[i].split("=");p[0]==r&&l.push(p.slice(1).join("="))}if(0!==l.length)return 1!=l.length?l:l[0]}},parameterNames:function(){var e=this.queryString(),r=[];if(e&&e.indexOf("=")!=-1)for(var n=e.split("&"),a=0;a<n.length;a++){var i=n[a].split("=")[0];t.inArray(i,r)==-1&&r.push(i)}return r},hash:function(t){if(t!==e)return this.value(rt.split("#")[0]+(t?"#"+t:"")),this;var r=rt.split("#");return r.slice(1,r.length).join("#")}}}(),t.fn.address=function(e){return t(this).each(function(r){t(this).data("address")||t(this).on("click",function(r){if(r.shiftKey||r.ctrlKey||r.metaKey||2==r.which)return!0;var n=r.currentTarget;if(t(n).is("a")){r.preventDefault();var a=e?e.call(n):/address:/.test(t(n).attr("rel"))?t(n).attr("rel").split("address:")[1].split(" ")[0]:void 0===t.address.state()||/^\/?$/.test(t.address.state())?t(n).attr("href").replace(/^(#\!?|\.)/,""):t(n).attr("href").replace(new RegExp("^(.*"+t.address.state()+"|\\.)"),"");t.address.value(a)}}).on("submit",function(r){var n=r.currentTarget;if(t(n).is("form")){r.preventDefault();var a=t(n).attr("action"),i=e?e.call(n):(a.indexOf("?")!=-1?a.replace(/&$/,""):a+"?")+t(n).serialize();t.address.value(i)}}).data("address",!0)}),this}}(jQuery);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5hZGRyZXNzLmpzIl0sIm5hbWVzIjpbIiQiLCJhZGRyZXNzIiwiVU5ERUZJTkVEIiwiX2ZyYW1lIiwiX3RyaWdnZXIiLCJuYW1lIiwiZSIsImV4dGVuZCIsIkV2ZW50IiwicGFyYW1ldGVycyIsInBhcmFtZXRlck5hbWVzIiwiaSIsImwiLCJsZW5ndGgiLCJwYXJhbWV0ZXIiLCJ2YWx1ZSIsInBhdGgiLCJwYXRoTmFtZXMiLCJxdWVyeVN0cmluZyIsImNhbGwiLCJ0cmlnZ2VyIiwiX2FycmF5Iiwib2JqIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJzbGljZSIsIl9iaW5kIiwiZGF0YSIsImZuIiwiYmluZCIsImFwcGx5IiwiYXJndW1lbnRzIiwiX3VuYmluZCIsInVuYmluZCIsIl9zdXBwb3J0c1N0YXRlIiwiX2giLCJwdXNoU3RhdGUiLCJfb3B0cyIsInN0YXRlIiwiX2hyZWZTdGF0ZSIsIl9sIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwiUmVnRXhwIiwic2VhcmNoIiwiX2hyZWZIYXNoIiwiX3JlIiwiaW5kZXgiLCJocmVmIiwiaW5kZXhPZiIsInN1YnN0ciIsIl9ocmVmIiwiX3dpbmRvdyIsInRvcCIsImRvY3VtZW50IiwidGl0bGUiLCJqUXVlcnkiLCJmcmFtZXMiLCJ3aW5kb3ciLCJfanMiLCJfc3RyaWN0IiwidG9TdHJpbmciLCJzdHJpY3QiLCJfY3NzaW50IiwiZWwiLCJwYXJzZUludCIsImNzcyIsIl9saXN0ZW4iLCJfc2lsZW50IiwiaGFzaCIsImRpZmYiLCJkZWNvZGVVUkkiLCJfdmFsdWUiLCJfbXNpZSIsIl92ZXJzaW9uIiwicmVsb2FkIiwiX2hhc2hjaGFuZ2UiLCJoaXN0b3J5IiwiX3N0IiwiX2h0bWwiLCJfdXBkYXRlIiwiRkFMU0UiLCJpbnRlcm5hbCIsIl90cmFjayIsIkNIQU5HRSIsImlzRGVmYXVsdFByZXZlbnRlZCIsIklOVEVSTkFMX0NIQU5HRSIsIkVYVEVSTkFMX0NIQU5HRSIsInRyYWNrZXIiLCJOVUxMIiwiaXNGdW5jdGlvbiIsIl90IiwidXJjaGluVHJhY2tlciIsInBhZ2VUcmFja2VyIiwiX3RyYWNrUGFnZXZpZXciLCJfZ2FxIiwicHVzaCIsImdhIiwic3JjIiwiX2QiLCJJRCIsImVuY29kZVVSSUNvbXBvbmVudCIsImRvbWFpbiIsImhvc3RuYW1lIiwiY29udGVudFdpbmRvdyIsImxvY2F0aW9uIiwiX29wdGlvbnMiLCJfdXJsIiwiX3FpIiwicGFyYW0iLCJwYXJhbXMiLCJzcGxpdCIsInRlc3QiLCJpc05hTiIsIl9sb2FkIiwiX2xvYWRlZCIsIlRSVUUiLCJ3cmFwIiwiYm9keSIsIndyYXBBbGwiLCJwYXJlbnQiLCJfd2Via2l0Iiwic3RhdHVzYmFyIiwidmlzaWJsZSIsImhlaWdodCIsIm1hcmdpbiIsInBhZGRpbmciLCJvdmVyZmxvdyIsImFwcGVuZFRvIiwidGV4dCIsImZyYW1lc2V0IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJjcmVhdGVFbGVtZW50IiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwiY29scyIsIm5vUmVzaXplIiwiZnJhbWVCb3JkZXIiLCJmcmFtZVNwYWNpbmciLCJzdHlsZSIsImRpc3BsYXkiLCJ3aWR0aCIsInRhYkluZGV4Iiwid2luIiwiYWRkRXZlbnRMaXN0ZW5lciIsIkhBU0hfQ0hBTkdFIiwiYXR0YWNoRXZlbnQiLCJfc2kiLCJfcG9wc3RhdGUiLCJfdW5sb2FkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRldGFjaEV2ZW50IiwiX3VhTWF0Y2giLCJ1YSIsInRvTG93ZXJDYXNlIiwibWF0Y2giLCJleGVjIiwiYnJvd3NlciIsInZlcnNpb24iLCJfZGV0ZWN0QnJvd3NlciIsIm1hdGNoZWQiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJjaHJvbWUiLCJ3ZWJraXQiLCJzYWZhcmkiLCJTVFJJTkciLCJJTklUIiwiYXV0b1VwZGF0ZSIsIl9icm93c2VyIiwicGFyc2VGbG9hdCIsIm1zaWUiLCJzZXRJbnRlcnZhbCIsInNldFRpbWVvdXQiLCJfYWdlbnQiLCJhdHRyIiwiX3RpdGxlIiwiX2p1c3RzdGFydCIsIl91cGRhdGluZyIsImRvY3VtZW50TW9kZSIsInBjIiwib25wcm9wZXJ0eWNoYW5nZSIsIm5hdmlnYXRpb25Nb2RlIiwicmVhZHlTdGF0ZSIsImludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInR5cGUiLCJ0aGlzIiwiaW5pdCIsImNvbmNhdCIsImNoYW5nZSIsImludGVybmFsQ2hhbmdlIiwiZXh0ZXJuYWxDaGFuZ2UiLCJiYXNlVVJMIiwidXJsIiwiaHJlZlN0YXRlIiwidXBkYXRlIiwicXMiLCJuYW1lcyIsInNwbGljZSIsImFyciIsImpvaW4iLCJhcHBlbmQiLCJuIiwidiIsImoiLCJpbkFycmF5IiwiciIsInAiLCJlYWNoIiwib24iLCJzaGlmdEtleSIsImN0cmxLZXkiLCJtZXRhS2V5Iiwid2hpY2giLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiaXMiLCJwcmV2ZW50RGVmYXVsdCIsInVuZGVmaW5lZCIsImFjdGlvbiIsInNlcmlhbGl6ZSJdLCJtYXBwaW5ncyI6IkNBQ0EsU0FBV0EsR0FFUEEsRUFBRUMsUUFBVSxXQUVSLEdBNlBJQyxHQStCQUMsRUE1UkFDLEVBQVcsU0FBU0MsR0FDakIsR0FBSUMsR0FBSU4sRUFBRU8sT0FBT1AsRUFBRVEsTUFBTUgsR0FBTyxXQUczQixJQUFLLEdBRkRJLE1BQ0FDLEVBQWlCVixFQUFFQyxRQUFRUyxpQkFDdEJDLEVBQUksRUFBR0MsRUFBSUYsRUFBZUcsT0FBUUYsRUFBSUMsRUFBR0QsSUFDOUNGLEVBQVdDLEVBQWVDLElBQU1YLEVBQUVDLFFBQVFhLFVBQVVKLEVBQWVDLEdBRXZFLFFBQ0lJLE1BQU9mLEVBQUVDLFFBQVFjLFFBQ2pCQyxLQUFNaEIsRUFBRUMsUUFBUWUsT0FDaEJDLFVBQVdqQixFQUFFQyxRQUFRZ0IsWUFDckJQLGVBQWdCQSxFQUNoQkQsV0FBWUEsRUFDWlMsWUFBYWxCLEVBQUVDLFFBQVFpQixnQkFFNUJDLEtBQUtuQixFQUFFQyxTQUVWLE9BREFELEdBQUVBLEVBQUVDLFNBQVNtQixRQUFRZCxHQUNk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cmVzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qISBqUXVlcnkgQWRkcmVzcyB2JHt2ZXJzaW9ufSB8IChjKSAyMDA5LCAyMDEzIFJvc3Rpc2xhdiBIcmlzdG92IHwganF1ZXJ5Lm9yZy9saWNlbnNlICovXHJcbihmdW5jdGlvbiAoJCkge1xyXG5cclxuICAgICQuYWRkcmVzcyA9IChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIHZhciBfdHJpZ2dlciA9IGZ1bmN0aW9uKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgdmFyIGUgPSAkLmV4dGVuZCgkLkV2ZW50KG5hbWUpLCAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSB7fSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyTmFtZXMgPSAkLmFkZHJlc3MucGFyYW1ldGVyTmFtZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHBhcmFtZXRlck5hbWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzW3BhcmFtZXRlck5hbWVzW2ldXSA9ICQuYWRkcmVzcy5wYXJhbWV0ZXIocGFyYW1ldGVyTmFtZXNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJC5hZGRyZXNzLnZhbHVlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ICQuYWRkcmVzcy5wYXRoKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhOYW1lczogJC5hZGRyZXNzLnBhdGhOYW1lcygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJOYW1lczogcGFyYW1ldGVyTmFtZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHBhcmFtZXRlcnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5U3RyaW5nOiAkLmFkZHJlc3MucXVlcnlTdHJpbmcoKVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9KS5jYWxsKCQuYWRkcmVzcykpO1xyXG4gICAgICAgICAgICAgICAgJCgkLmFkZHJlc3MpLnRyaWdnZXIoZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2FycmF5ID0gZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwob2JqKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2JpbmQgPSBmdW5jdGlvbih2YWx1ZSwgZGF0YSwgZm4pIHtcclxuICAgICAgICAgICAgICAgICQoKS5iaW5kLmFwcGx5KCQoJC5hZGRyZXNzKSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJC5hZGRyZXNzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfdW5iaW5kID0gZnVuY3Rpb24odmFsdWUsICBmbikge1xyXG4gICAgICAgICAgICAgICAgJCgpLnVuYmluZC5hcHBseSgkKCQuYWRkcmVzcyksIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICQuYWRkcmVzcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3N1cHBvcnRzU3RhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoX2gucHVzaFN0YXRlICYmIF9vcHRzLnN0YXRlICE9PSBVTkRFRklORUQpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaHJlZlN0YXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKCcvJyArIF9sLnBhdGhuYW1lLnJlcGxhY2UobmV3IFJlZ0V4cChfb3B0cy5zdGF0ZSksICcnKSArIFxyXG4gICAgICAgICAgICAgICAgICAgIF9sLnNlYXJjaCArIChfaHJlZkhhc2goKSA/ICcjJyArIF9ocmVmSGFzaCgpIDogJycpKS5yZXBsYWNlKF9yZSwgJy8nKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2hyZWZIYXNoID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBfbC5ocmVmLmluZGV4T2YoJyMnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbmRleCAhPSAtMSA/IF9sLmhyZWYuc3Vic3RyKGluZGV4ICsgMSkgOiAnJztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2hyZWYgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfc3VwcG9ydHNTdGF0ZSgpID8gX2hyZWZTdGF0ZSgpIDogX2hyZWZIYXNoKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF93aW5kb3cgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvcC5kb2N1bWVudCAhPT0gVU5ERUZJTkVEICYmIHRvcC5kb2N1bWVudC50aXRsZSAhPT0gVU5ERUZJTkVEICYmIHRvcC5qUXVlcnkgIT09IFVOREVGSU5FRCAmJiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wLmpRdWVyeS5hZGRyZXNzICE9PSBVTkRFRklORUQgJiYgdG9wLmpRdWVyeS5hZGRyZXNzLmZyYW1lcygpICE9PSBmYWxzZSA/IHRvcCA6IHdpbmRvdztcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2pzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2phdmFzY3JpcHQnO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfc3RyaWN0ID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoX29wdHMuc3RyaWN0ICYmIHZhbHVlLnN1YnN0cigwLCAxKSAhPSAnLycgPyAnLycgOiAnJykgKyB2YWx1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2Nzc2ludCA9IGZ1bmN0aW9uKGVsLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGVsLmNzcyh2YWx1ZSksIDEwKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2xpc3RlbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFfc2lsZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhc2ggPSBfaHJlZigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaWZmID0gZGVjb2RlVVJJKF92YWx1ZSkgIT0gZGVjb2RlVVJJKGhhc2gpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaWZmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfbXNpZSAmJiBfdmVyc2lvbiA8IDcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9tc2llICYmICFfaGFzaGNoYW5nZSAmJiBfb3B0cy5oaXN0b3J5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N0KF9odG1sLCA1MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdmFsdWUgPSBoYXNoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3VwZGF0ZShGQUxTRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF91cGRhdGUgPSBmdW5jdGlvbihpbnRlcm5hbCkge1xyXG4gICAgICAgICAgICAgICAgX3N0KF90cmFjaywgMTApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF90cmlnZ2VyKENIQU5HRSkuaXNEZWZhdWx0UHJldmVudGVkKCkgfHwgXHJcbiAgICAgICAgICAgICAgICAgICAgX3RyaWdnZXIoaW50ZXJuYWwgPyBJTlRFUk5BTF9DSEFOR0UgOiBFWFRFUk5BTF9DSEFOR0UpLmlzRGVmYXVsdFByZXZlbnRlZCgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfdHJhY2sgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmIChfb3B0cy50cmFja2VyICE9PSAnbnVsbCcgJiYgX29wdHMudHJhY2tlciAhPT0gTlVMTCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmbiA9ICQuaXNGdW5jdGlvbihfb3B0cy50cmFja2VyKSA/IF9vcHRzLnRyYWNrZXIgOiBfdFtfb3B0cy50cmFja2VyXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAoX2wucGF0aG5hbWUgKyBfbC5zZWFyY2ggKyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoJC5hZGRyZXNzICYmICFfc3VwcG9ydHNTdGF0ZSgpID8gJC5hZGRyZXNzLnZhbHVlKCkgOiAnJykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcL1xcLy8sICcvJykucmVwbGFjZSgvXlxcLyQvLCAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQuaXNGdW5jdGlvbihmbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm4odmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKF90LnVyY2hpblRyYWNrZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90LnVyY2hpblRyYWNrZXIodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKF90LnBhZ2VUcmFja2VyICE9PSBVTkRFRklORUQgJiYgJC5pc0Z1bmN0aW9uKF90LnBhZ2VUcmFja2VyLl90cmFja1BhZ2V2aWV3KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF90LnBhZ2VUcmFja2VyLl90cmFja1BhZ2V2aWV3KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIGlmIChfdC5fZ2FxICE9PSBVTkRFRklORUQgJiYgJC5pc0Z1bmN0aW9uKF90Ll9nYXEucHVzaCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBfdC5fZ2FxLnB1c2goWydfdHJhY2tQYWdldmlldycsIGRlY29kZVVSSSh2YWx1ZSldKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIGlmICgkLmlzRnVuY3Rpb24oX3QuZ2EpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3QuZ2EoJ3NlbmQnLCAncGFnZXZpZXcnLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaHRtbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNyYyA9IF9qcygpICsgJzonICsgRkFMU0UgKyAnO2RvY3VtZW50Lm9wZW4oKTtkb2N1bWVudC53cml0ZWxuKFxcJzxodG1sPjxoZWFkPjx0aXRsZT4nICsgXHJcbiAgICAgICAgICAgICAgICAgICAgX2QudGl0bGUucmVwbGFjZSgvXFwnL2csICdcXFxcXFwnJykgKyAnPC90aXRsZT48c2NyaXB0PnZhciAnICsgSUQgKyAnID0gXCInICsgZW5jb2RlVVJJQ29tcG9uZW50KF9ocmVmKCkpLnJlcGxhY2UoL1xcJy9nLCAnXFxcXFxcJycpICsgXHJcbiAgICAgICAgICAgICAgICAgICAgKF9kLmRvbWFpbiAhPSBfbC5ob3N0bmFtZSA/ICdcIjtkb2N1bWVudC5kb21haW49XCInICsgX2QuZG9tYWluIDogJycpICsgXHJcbiAgICAgICAgICAgICAgICAgICAgJ1wiOzwvJyArICdzY3JpcHQ+PC9oZWFkPjwvaHRtbD5cXCcpO2RvY3VtZW50LmNsb3NlKCk7JztcclxuICAgICAgICAgICAgICAgIGlmIChfdmVyc2lvbiA8IDcpIHtcclxuICAgICAgICAgICAgICAgICAgICBfZnJhbWUuc3JjID0gc3JjO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBfZnJhbWUuY29udGVudFdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHNyYyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9vcHRpb25zID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoX3VybCAmJiBfcWkgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaSwgcGFyYW0sIHBhcmFtcyA9IF91cmwuc3Vic3RyKF9xaSArIDEpLnNwbGl0KCcmJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbSA9IHBhcmFtc1tpXS5zcGxpdCgnPScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoL14oYXV0b1VwZGF0ZXxoaXN0b3J5fHN0cmljdHx3cmFwKSQvLnRlc3QocGFyYW1bMF0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb3B0c1twYXJhbVswXV0gPSAoaXNOYU4ocGFyYW1bMV0pID8gL14odHJ1ZXx5ZXMpJC9pLnRlc3QocGFyYW1bMV0pIDogKHBhcnNlSW50KHBhcmFtWzFdLCAxMCkgIT09IDApKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoL14oc3RhdGV8dHJhY2tlcikkLy50ZXN0KHBhcmFtWzBdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29wdHNbcGFyYW1bMF1dID0gcGFyYW1bMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgX3VybCA9IE5VTEw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfdmFsdWUgPSBfaHJlZigpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfbG9hZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFfbG9hZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX2xvYWRlZCA9IFRSVUU7XHJcbiAgICAgICAgICAgICAgICAgICAgX29wdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCdhW3JlbCo9XCJhZGRyZXNzOlwiXScpLmFkZHJlc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX29wdHMud3JhcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYm9keSA9ICQoJ2JvZHknKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyYXAgPSAkKCdib2R5ID4gKicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLndyYXBBbGwoJzxkaXYgc3R5bGU9XCJwYWRkaW5nOicgKyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9jc3NpbnQoYm9keSwgJ21hcmdpblRvcCcpICsgX2Nzc2ludChib2R5LCAncGFkZGluZ1RvcCcpKSArICdweCAnICsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfY3NzaW50KGJvZHksICdtYXJnaW5SaWdodCcpICsgX2Nzc2ludChib2R5LCAncGFkZGluZ1JpZ2h0JykpICsgJ3B4ICcgKyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9jc3NpbnQoYm9keSwgJ21hcmdpbkJvdHRvbScpICsgX2Nzc2ludChib2R5LCAncGFkZGluZ0JvdHRvbScpKSArICdweCAnICsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfY3NzaW50KGJvZHksICdtYXJnaW5MZWZ0JykgKyBfY3NzaW50KGJvZHksICdwYWRkaW5nTGVmdCcpKSArICdweDtcIiAvPicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnBhcmVudCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLndyYXAoJzxkaXYgaWQ9XCInICsgSUQgKyAnXCIgc3R5bGU9XCJoZWlnaHQ6MTAwJTtvdmVyZmxvdzphdXRvO3Bvc2l0aW9uOnJlbGF0aXZlOycgKyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF93ZWJraXQgJiYgIXdpbmRvdy5zdGF0dXNiYXIudmlzaWJsZSA/ICdyZXNpemU6Ym90aDsnIDogJycpICsgJ1wiIC8+Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ2h0bWwsIGJvZHknKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF93ZWJraXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJzxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIiAvPicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZFRvKCdoZWFkJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGV4dCgnIycgKyBJRCArICc6Oi13ZWJraXQtcmVzaXplciB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoX21zaWUgJiYgIV9oYXNoY2hhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmcmFtZXNldCA9IF9kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdmcmFtZXNldCcpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfZnJhbWUgPSBfZC5jcmVhdGVFbGVtZW50KChmcmFtZXNldCA/ICcnIDogJ2knKSArICdmcmFtZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfZnJhbWUuc3JjID0gX2pzKCkgKyAnOicgKyBGQUxTRTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyYW1lc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFtZXNldC5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2JlZm9yZUVuZCcsIF9mcmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFtZXNldFtmcmFtZXNldC5jb2xzID8gJ2NvbHMnIDogJ3Jvd3MnXSArPSAnLDAnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ZyYW1lLm5vUmVzaXplID0gVFJVRTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mcmFtZS5mcmFtZUJvcmRlciA9IF9mcmFtZS5mcmFtZVNwYWNpbmcgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZnJhbWUuc3R5bGUud2lkdGggPSBfZnJhbWUuc3R5bGUuaGVpZ2h0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mcmFtZS50YWJJbmRleCA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2QuYm9keS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyQmVnaW4nLCBfZnJhbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zdChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoX2ZyYW1lKS5iaW5kKCdsb2FkJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdpbiA9IF9mcmFtZS5jb250ZW50V2luZG93O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92YWx1ZSA9IHdpbltJRF0gIT09IFVOREVGSU5FRCA/IHdpbltJRF0gOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3ZhbHVlICE9IF9ocmVmKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3VwZGF0ZShGQUxTRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sLmhhc2ggPSBfdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2ZyYW1lLmNvbnRlbnRXaW5kb3dbSURdID09PSBVTkRFRklORUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaHRtbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCA1MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF9zdChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RyaWdnZXIoJ2luaXQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3VwZGF0ZShGQUxTRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfc3VwcG9ydHNTdGF0ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoX21zaWUgJiYgX3ZlcnNpb24gPiA3KSB8fCAoIV9tc2llICYmIF9oYXNoY2hhbmdlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90LmFkZEV2ZW50TGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdC5hZGRFdmVudExpc3RlbmVyKEhBU0hfQ0hBTkdFLCBfbGlzdGVuLCBGQUxTRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90LmF0dGFjaEV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3QuYXR0YWNoRXZlbnQoJ29uJyArIEhBU0hfQ0hBTkdFLCBfbGlzdGVuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaShfbGlzdGVuLCA1MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCdzdGF0ZScgaW4gd2luZG93Lmhpc3RvcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCh3aW5kb3cpLnRyaWdnZXIoJ3BvcHN0YXRlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfcG9wc3RhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkZWNvZGVVUkkoX3ZhbHVlKSAhPSBkZWNvZGVVUkkoX2hyZWYoKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdmFsdWUgPSBfaHJlZigpO1xyXG4gICAgICAgICAgICAgICAgICAgIF91cGRhdGUoRkFMU0UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfdW5sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoX3QucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICAgICAgICAgICAgICAgIF90LnJlbW92ZUV2ZW50TGlzdGVuZXIoSEFTSF9DSEFOR0UsIF9saXN0ZW4sIEZBTFNFKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3QuZGV0YWNoRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdC5kZXRhY2hFdmVudCgnb24nICsgSEFTSF9DSEFOR0UsIF9saXN0ZW4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfdWFNYXRjaCA9IGZ1bmN0aW9uKHVhKSB7XHJcbiAgICAgICAgICAgICAgICB1YSA9IHVhLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2ggPSAvKGNocm9tZSlbIFxcL10oW1xcdy5dKykvLmV4ZWMoIHVhICkgfHxcclxuICAgICAgICAgICAgICAgICAgICAvKHdlYmtpdClbIFxcL10oW1xcdy5dKykvLmV4ZWMoIHVhICkgfHxcclxuICAgICAgICAgICAgICAgICAgICAvKG9wZXJhKSg/Oi4qdmVyc2lvbnwpWyBcXC9dKFtcXHcuXSspLy5leGVjKCB1YSApIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgLyhtc2llKSAoW1xcdy5dKykvLmV4ZWMoIHVhICkgfHxcclxuICAgICAgICAgICAgICAgICAgICB1YS5pbmRleE9mKCdjb21wYXRpYmxlJykgPCAwICYmIC8obW96aWxsYSkoPzouKj8gcnY6KFtcXHcuXSspfCkvLmV4ZWMoIHVhICkgfHxcclxuICAgICAgICAgICAgICAgICAgICBbXTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJvd3NlcjogbWF0Y2hbIDEgXSB8fCAnJyxcclxuICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiBtYXRjaFsgMiBdIHx8ICcwJ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2RldGVjdEJyb3dzZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHZhciBicm93c2VyID0ge30sXHJcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZCA9IF91YU1hdGNoKG5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoZWQuYnJvd3Nlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyb3dzZXJbbWF0Y2hlZC5icm93c2VyXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJvd3Nlci52ZXJzaW9uID0gbWF0Y2hlZC52ZXJzaW9uO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGJyb3dzZXIuY2hyb21lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJvd3Nlci53ZWJraXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChicm93c2VyLndlYmtpdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyb3dzZXIuc2FmYXJpID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBicm93c2VyO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBVTkRFRklORUQsXHJcbiAgICAgICAgICAgIE5VTEwgPSBudWxsLFxyXG4gICAgICAgICAgICBJRCA9ICdqUXVlcnlBZGRyZXNzJyxcclxuICAgICAgICAgICAgU1RSSU5HID0gJ3N0cmluZycsXHJcbiAgICAgICAgICAgIEhBU0hfQ0hBTkdFID0gJ2hhc2hjaGFuZ2UnLFxyXG4gICAgICAgICAgICBJTklUID0gJ2luaXQnLFxyXG4gICAgICAgICAgICBDSEFOR0UgPSAnY2hhbmdlJyxcclxuICAgICAgICAgICAgSU5URVJOQUxfQ0hBTkdFID0gJ2ludGVybmFsQ2hhbmdlJyxcclxuICAgICAgICAgICAgRVhURVJOQUxfQ0hBTkdFID0gJ2V4dGVybmFsQ2hhbmdlJyxcclxuICAgICAgICAgICAgVFJVRSA9IHRydWUsXHJcbiAgICAgICAgICAgIEZBTFNFID0gZmFsc2UsXHJcbiAgICAgICAgICAgIF9vcHRzID0ge1xyXG4gICAgICAgICAgICAgICAgYXV0b1VwZGF0ZTogVFJVRSwgXHJcbiAgICAgICAgICAgICAgICBoaXN0b3J5OiBUUlVFLCBcclxuICAgICAgICAgICAgICAgIHN0cmljdDogVFJVRSxcclxuICAgICAgICAgICAgICAgIGZyYW1lczogVFJVRSxcclxuICAgICAgICAgICAgICAgIHdyYXA6IEZBTFNFXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9icm93c2VyID0gX2RldGVjdEJyb3dzZXIoKSxcclxuICAgICAgICAgICAgX3ZlcnNpb24gPSBwYXJzZUZsb2F0KF9icm93c2VyLnZlcnNpb24pLFxyXG4gICAgICAgICAgICBfd2Via2l0ID0gX2Jyb3dzZXIud2Via2l0IHx8IF9icm93c2VyLnNhZmFyaSxcclxuICAgICAgICAgICAgX21zaWUgPSBfYnJvd3Nlci5tc2llLFxyXG4gICAgICAgICAgICBfdCA9IF93aW5kb3coKSxcclxuICAgICAgICAgICAgX2QgPSBfdC5kb2N1bWVudCxcclxuICAgICAgICAgICAgX2ggPSBfdC5oaXN0b3J5LCBcclxuICAgICAgICAgICAgX2wgPSBfdC5sb2NhdGlvbixcclxuICAgICAgICAgICAgX3NpID0gc2V0SW50ZXJ2YWwsXHJcbiAgICAgICAgICAgIF9zdCA9IHNldFRpbWVvdXQsXHJcbiAgICAgICAgICAgIF9yZSA9IC9cXC97Miw5fS9nLFxyXG4gICAgICAgICAgICBfYWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50LFxyXG4gICAgICAgICAgICBfaGFzaGNoYW5nZSA9ICdvbicgKyBIQVNIX0NIQU5HRSBpbiBfdCxcclxuICAgICAgICAgICAgX2ZyYW1lLFxyXG4gICAgICAgICAgICBfZm9ybSxcclxuICAgICAgICAgICAgX3VybCA9ICQoJ3NjcmlwdDpsYXN0JykuYXR0cignc3JjJyksXHJcbiAgICAgICAgICAgIF9xaSA9IF91cmwgPyBfdXJsLmluZGV4T2YoJz8nKSA6IC0xLFxyXG4gICAgICAgICAgICBfdGl0bGUgPSBfZC50aXRsZSwgXHJcbiAgICAgICAgICAgIF9zaWxlbnQgPSBGQUxTRSxcclxuICAgICAgICAgICAgX2xvYWRlZCA9IEZBTFNFLFxyXG4gICAgICAgICAgICBfanVzdHN0YXJ0ID0gVFJVRSxcclxuICAgICAgICAgICAgX3VwZGF0aW5nID0gRkFMU0UsXHJcbiAgICAgICAgICAgIF9saXN0ZW5lcnMgPSB7fSwgXHJcbiAgICAgICAgICAgIF92YWx1ZSA9IF9ocmVmKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIGlmIChfbXNpZSkge1xyXG4gICAgICAgICAgICBfdmVyc2lvbiA9IHBhcnNlRmxvYXQoX2FnZW50LnN1YnN0cihfYWdlbnQuaW5kZXhPZignTVNJRScpICsgNCkpO1xyXG4gICAgICAgICAgICBpZiAoX2QuZG9jdW1lbnRNb2RlICYmIF9kLmRvY3VtZW50TW9kZSAhPSBfdmVyc2lvbikge1xyXG4gICAgICAgICAgICAgICAgX3ZlcnNpb24gPSBfZC5kb2N1bWVudE1vZGUgIT0gOCA/IDcgOiA4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBwYyA9IF9kLm9ucHJvcGVydHljaGFuZ2U7XHJcbiAgICAgICAgICAgIF9kLm9ucHJvcGVydHljaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwYykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBjLmNhbGwoX2QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKF9kLnRpdGxlICE9IF90aXRsZSAmJiBfZC50aXRsZS5pbmRleE9mKCcjJyArIF9ocmVmKCkpICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX2QudGl0bGUgPSBfdGl0bGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChfaC5uYXZpZ2F0aW9uTW9kZSkge1xyXG4gICAgICAgICAgICBfaC5uYXZpZ2F0aW9uTW9kZSA9ICdjb21wYXRpYmxlJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT0gJ2NvbXBsZXRlJykge1xyXG4gICAgICAgICAgICB2YXIgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkLmFkZHJlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBfbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCA1MCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgX29wdGlvbnMoKTtcclxuICAgICAgICAgICAgJChfbG9hZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQod2luZG93KS5iaW5kKCdwb3BzdGF0ZScsIF9wb3BzdGF0ZSkuYmluZCgndW5sb2FkJywgX3VubG9hZCk7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGJpbmQ6IGZ1bmN0aW9uKHR5cGUsIGRhdGEsIGZuKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX2JpbmQuYXBwbHkodGhpcywgX2FycmF5KGFyZ3VtZW50cykpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1bmJpbmQ6IGZ1bmN0aW9uKHR5cGUsIGZuKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX3VuYmluZC5hcHBseSh0aGlzLCBfYXJyYXkoYXJndW1lbnRzKSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uKGRhdGEsIGZuKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX2JpbmQuYXBwbHkodGhpcywgW0lOSVRdLmNvbmNhdChfYXJyYXkoYXJndW1lbnRzKSkpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uKGRhdGEsIGZuKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX2JpbmQuYXBwbHkodGhpcywgW0NIQU5HRV0uY29uY2F0KF9hcnJheShhcmd1bWVudHMpKSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGludGVybmFsQ2hhbmdlOiBmdW5jdGlvbihkYXRhLCBmbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9iaW5kLmFwcGx5KHRoaXMsIFtJTlRFUk5BTF9DSEFOR0VdLmNvbmNhdChfYXJyYXkoYXJndW1lbnRzKSkpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBleHRlcm5hbENoYW5nZTogZnVuY3Rpb24oZGF0YSwgZm4pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfYmluZC5hcHBseSh0aGlzLCBbRVhURVJOQUxfQ0hBTkdFXS5jb25jYXQoX2FycmF5KGFyZ3VtZW50cykpKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYmFzZVVSTDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gX2wuaHJlZjtcclxuICAgICAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZignIycpICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsID0gdXJsLnN1YnN0cigwLCB1cmwuaW5kZXhPZignIycpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgvXFwvJC8udGVzdCh1cmwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsID0gdXJsLnN1YnN0cigwLCB1cmwubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdXJsO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhdXRvVXBkYXRlOiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBVTkRFRklORUQpIHtcclxuICAgICAgICAgICAgICAgICAgICBfb3B0cy5hdXRvVXBkYXRlID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX29wdHMuYXV0b1VwZGF0ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaGlzdG9yeTogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gVU5ERUZJTkVEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX29wdHMuaGlzdG9yeSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9vcHRzLmhpc3Rvcnk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN0YXRlOiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBVTkRFRklORUQpIHtcclxuICAgICAgICAgICAgICAgICAgICBfb3B0cy5zdGF0ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBocmVmU3RhdGUgPSBfaHJlZlN0YXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9vcHRzLnN0YXRlICE9PSBVTkRFRklORUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9oLnB1c2hTdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhyZWZTdGF0ZS5zdWJzdHIoMCwgMykgPT0gJy8jLycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbC5yZXBsYWNlKF9vcHRzLnN0YXRlLnJlcGxhY2UoL15cXC8kLywgJycpICsgaHJlZlN0YXRlLnN1YnN0cigyKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaHJlZlN0YXRlICE9ICcvJyAmJiBocmVmU3RhdGUucmVwbGFjZSgvXlxcLyMvLCAnJykgIT0gX2hyZWZIYXNoKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbC5yZXBsYWNlKF9vcHRzLnN0YXRlLnJlcGxhY2UoL15cXC8kLywgJycpICsgJy8jJyArIGhyZWZTdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBfb3B0cy5zdGF0ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnJhbWVzOiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBVTkRFRklORUQpIHtcclxuICAgICAgICAgICAgICAgICAgICBfb3B0cy5mcmFtZXMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBfdCA9IF93aW5kb3coKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBfb3B0cy5mcmFtZXM7XHJcbiAgICAgICAgICAgIH0sICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHN0cmljdDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gVU5ERUZJTkVEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX29wdHMuc3RyaWN0ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX29wdHMuc3RyaWN0O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0cmFja2VyOiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBVTkRFRklORUQpIHtcclxuICAgICAgICAgICAgICAgICAgICBfb3B0cy50cmFja2VyID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX29wdHMudHJhY2tlcjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgd3JhcDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gVU5ERUZJTkVEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX29wdHMud3JhcCA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9vcHRzLndyYXA7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVwZGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBfdXBkYXRpbmcgPSBUUlVFO1xyXG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZShfdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgX3VwZGF0aW5nID0gRkFMU0U7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdGl0bGU6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IFVOREVGSU5FRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF9zdChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RpdGxlID0gX2QudGl0bGUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9qdXN0c3RhcnQgJiYgX2ZyYW1lICYmIF9mcmFtZS5jb250ZW50V2luZG93ICYmIF9mcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudC50aXRsZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2p1c3RzdGFydCA9IEZBTFNFO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgNTApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9kLnRpdGxlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gVU5ERUZJTkVEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBfc3RyaWN0KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gJy8nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdmFsdWUgPT0gdmFsdWUgJiYgIV91cGRhdGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF92YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfb3B0cy5hdXRvVXBkYXRlIHx8IF91cGRhdGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3VwZGF0ZShUUlVFKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9zdXBwb3J0c1N0YXRlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oW19vcHRzLmhpc3RvcnkgPyAncHVzaFN0YXRlJyA6ICdyZXBsYWNlU3RhdGUnXSh7fSwgJycsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb3B0cy5zdGF0ZS5yZXBsYWNlKC9cXC8kLywgJycpICsgKF92YWx1ZSA9PT0gJycgPyAnLycgOiBfdmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaWxlbnQgPSBUUlVFO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF93ZWJraXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX29wdHMuaGlzdG9yeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbC5oYXNoID0gJyMnICsgX3ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sLnJlcGxhY2UoJyMnICsgX3ZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF92YWx1ZSAhPSBfaHJlZigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9vcHRzLmhpc3RvcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2wuaGFzaCA9ICcjJyArIF92YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbC5yZXBsYWNlKCcjJyArIF92YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChfbXNpZSAmJiAhX2hhc2hjaGFuZ2UpICYmIF9vcHRzLmhpc3RvcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3QoX2h0bWwsIDUwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfd2Via2l0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N0KGZ1bmN0aW9uKCl7IF9zaWxlbnQgPSBGQUxTRTsgfSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaWxlbnQgPSBGQUxTRTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBfc3RyaWN0KF92YWx1ZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHBhdGg6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IFVOREVGSU5FRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBxcyA9IHRoaXMucXVlcnlTdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzaCA9IHRoaXMuaGFzaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUodmFsdWUgKyAocXMgPyAnPycgKyBxcyA6ICcnKSArIChoYXNoID8gJyMnICsgaGFzaCA6ICcnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX3N0cmljdChfdmFsdWUpLnNwbGl0KCcjJylbMF0uc3BsaXQoJz8nKVswXTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcGF0aE5hbWVzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYXRoID0gdGhpcy5wYXRoKCksXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZXMgPSBwYXRoLnJlcGxhY2UoX3JlLCAnLycpLnNwbGl0KCcvJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGF0aC5zdWJzdHIoMCwgMSkgPT0gJy8nIHx8IHBhdGgubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZXMuc3BsaWNlKDAsIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGguc3Vic3RyKHBhdGgubGVuZ3RoIC0gMSwgMSkgPT0gJy8nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZXMuc3BsaWNlKG5hbWVzLmxlbmd0aCAtIDEsIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5hbWVzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBxdWVyeVN0cmluZzogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gVU5ERUZJTkVEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhc2ggPSB0aGlzLmhhc2goKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlKHRoaXMucGF0aCgpICsgKHZhbHVlID8gJz8nICsgdmFsdWUgOiAnJykgKyAoaGFzaCA/ICcjJyArIGhhc2ggOiAnJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGFyciA9IF92YWx1ZS5zcGxpdCgnPycpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyci5zbGljZSgxLCBhcnIubGVuZ3RoKS5qb2luKCc/Jykuc3BsaXQoJyMnKVswXTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcGFyYW1ldGVyOiBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgYXBwZW5kKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaSwgcGFyYW1zO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBVTkRFRklORUQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZXMgPSB0aGlzLnBhcmFtZXRlck5hbWVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA9PT0gVU5ERUZJTkVEIHx8IHZhbHVlID09PSBOVUxMID8gJycgOiB2YWx1ZS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IG5hbWVzW2ldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdiA9IHRoaXMucGFyYW1ldGVyKG4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHYgPT0gU1RSSU5HKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ID0gW3ZdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuID09IG5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgPSAodmFsdWUgPT09IE5VTEwgfHwgdmFsdWUgPT09ICcnKSA/IFtdIDogXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGFwcGVuZCA/IHYuY29uY2F0KFt2YWx1ZV0pIDogW3ZhbHVlXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMucHVzaChuICsgJz0nICsgdltqXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQuaW5BcnJheShuYW1lLCBuYW1lcykgPT0gLTEgJiYgdmFsdWUgIT09IE5VTEwgJiYgdmFsdWUgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcy5wdXNoKG5hbWUgKyAnPScgKyB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucXVlcnlTdHJpbmcocGFyYW1zLmpvaW4oJyYnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMucXVlcnlTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zID0gdmFsdWUuc3BsaXQoJyYnKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFyYW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwID0gcGFyYW1zW2ldLnNwbGl0KCc9Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwWzBdID09IG5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIucHVzaChwLnNsaWNlKDEpLmpvaW4oJz0nKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHIubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByLmxlbmd0aCAhPSAxID8gciA6IHJbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwYXJhbWV0ZXJOYW1lczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcXMgPSB0aGlzLnF1ZXJ5U3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGlmIChxcyAmJiBxcy5pbmRleE9mKCc9JykgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gcXMuc3BsaXQoJyYnKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IHBhcmFtc1tpXS5zcGxpdCgnPScpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJC5pbkFycmF5KG5hbWUsIG5hbWVzKSA9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXMucHVzaChuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBuYW1lcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaGFzaDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gVU5ERUZJTkVEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZShfdmFsdWUuc3BsaXQoJyMnKVswXSArICh2YWx1ZSA/ICcjJyArIHZhbHVlIDogJycpKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBhcnIgPSBfdmFsdWUuc3BsaXQoJyMnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcnIuc2xpY2UoMSwgYXJyLmxlbmd0aCkuam9pbignIycpOyAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9KSgpO1xyXG4gICAgXHJcbiAgICAkLmZuLmFkZHJlc3MgPSBmdW5jdGlvbihmbikge1xyXG4gICAgICAgICQodGhpcykuZWFjaChmdW5jdGlvbihpbmRleCkge1xyXG4gICAgICAgICAgICBpZiAoISQodGhpcykuZGF0YSgnYWRkcmVzcycpKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5zaGlmdEtleSB8fCBlLmN0cmxLZXkgfHwgZS5tZXRhS2V5IHx8IGUud2hpY2ggPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IGUuY3VycmVudFRhcmdldDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJCh0YXJnZXQpLmlzKCdhJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBmbiA/IGZuLmNhbGwodGFyZ2V0KSA6IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgL2FkZHJlc3M6Ly50ZXN0KCQodGFyZ2V0KS5hdHRyKCdyZWwnKSkgPyAkKHRhcmdldCkuYXR0cigncmVsJykuc3BsaXQoJ2FkZHJlc3M6JylbMV0uc3BsaXQoJyAnKVswXSA6IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5hZGRyZXNzLnN0YXRlKCkgIT09IHVuZGVmaW5lZCAmJiAhL15cXC8/JC8udGVzdCgkLmFkZHJlc3Muc3RhdGUoKSkgPyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0YXJnZXQpLmF0dHIoJ2hyZWYnKS5yZXBsYWNlKG5ldyBSZWdFeHAoJ14oLionICsgJC5hZGRyZXNzLnN0YXRlKCkgKyAnfFxcXFwuKScpLCAnJykgOiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0YXJnZXQpLmF0dHIoJ2hyZWYnKS5yZXBsYWNlKC9eKCNcXCE/fFxcLikvLCAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWRkcmVzcy52YWx1ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkKHRhcmdldCkuaXMoJ2Zvcm0nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY3Rpb24gPSAkKHRhcmdldCkuYXR0cignYWN0aW9uJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGZuID8gZm4uY2FsbCh0YXJnZXQpIDogKGFjdGlvbi5pbmRleE9mKCc/JykgIT0gLTEgPyBhY3Rpb24ucmVwbGFjZSgvJiQvLCAnJykgOiBhY3Rpb24gKyAnPycpICsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0YXJnZXQpLnNlcmlhbGl6ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFkZHJlc3MudmFsdWUodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pLmRhdGEoJ2FkZHJlc3MnLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIFxyXG59KShqUXVlcnkpO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
